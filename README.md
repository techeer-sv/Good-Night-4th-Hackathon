# 🎭 공연 좌석 예매 시스템 - Techeer Hackathon

---

## 📋 프로젝트 개요

본 프로젝트는 공연 좌석 예매 시스템을 구현하여 사용자가 좌석을 예약하고 관리할 수 있는 웹 애플리케이션입니다.프론트엔드와 백엔드가 분리된 구조로, 프론트엔드는 React와 Vite를 사용하여 개발하였으며,백엔드는 Node.js（Express）사용하여 RESTful API를 제공합니다.

---

## 🖼️ 웹 애플리케이션 스크린샷

### 홈페이지
<br>
<img align="center" width="1000" alt="" src="https://github.com/user-attachments/assets/257667b2-e2e0-4dcb-a792-09119b37472d">
<br><br>
*공연 목록과 좌석 현황을 한눈에 확인할 수 있는 메인 페이지*


### 좌석 선택 페이지
<br>
<img align="center" width="1000" alt="" src="https://github.com/user-attachments/assets/4cd41260-2525-45ce-82f0-cbc5e1096096">
<br><br>
*3x3 격자 형태의 좌석 배치와 실시간 상태 표시*


### 예약 페이지
<br>
<img align="center" width="1000" alt="" src="https://github.com/user-attachments/assets/9f06fdb9-7beb-4ba9-93af-7eed035bc2e7">
<br><br>
*사용자 정보 입력과 예약 확정 과정*


### 예약 완료 페이지
<br>
<img align="center" width="1000" alt="" src="https://github.com/user-attachments/assets/ee01f701-0bf4-4b8b-9bb3-82c87f98f8a1">
<br><br>
*예약 성공 시 축하 메시지와 공연 팁 제공*

---


## 🏗️ 프로젝트 구조

```
4th Techeer Hackathon/
├── backend/                 # 백엔드 코드
│   ├── src/                # 소스 코드
│   ├── package.json        # npm 패키지 설정
│   └── database.sqlite     # SQLite 데이터베이스
├── frontend/               # 프론트엔드 코드
│   ├── src/                # 소스 코드
│   ├── package.json        # npm 패키지 설정
│   └── vite.config.ts      # Vite 설정
└── README.md               # 프로젝트 설명 문서
```

---

## 🚀 프로젝트 실행 방법

### 1. 사전 요구사항
- Node.js 18+ 설치
- Docker 설치 (Redis용)
- Git 설치

### 2. 프로젝트 클론 및 설치
```bash
# 프로젝트 클론
git clone <repository-url>
cd 4th Techeer Hackathon

# 백엔드 의존성 설치
cd backend
npm install

# 프론트엔드 의존성 설치
cd ../frontend
npm install
```

### 3. Redis 서버 실행
```bash
# Docker로 Redis 실행
docker run -d -p 6379:6379 --name redis redis:latest
```

### 4. 서버 실행
```bash
# 백엔드 서버 시작 (새 터미널)
cd backend
npm start

# 프론트엔드 개발 서버 시작 (새 터미널)
cd frontend
npm run dev
```

### 5. 애플리케이션 접속
- **프론트엔드**: http://localhost:3000
- **백엔드 API**: http://localhost:3001

---

## 🛠️ 기술 스택 선택 이유

### Backend
| 기술 | 선택 이유 |
|------|-----------|
| **Node.js** | 비동기 처리와 이벤트 기반 아키텍처로 동시성 제어에 최적화 |
| **Express.js** | 가벼우면서도 확장 가능한 웹 프레임워크, 미들웨어 지원 |
| **SQLite** | 파일 기반 데이터베이스로 설정 간편, 개발 환경에 적합 |
| **Redis** | 인메모리 데이터베이스로 분산 락과 대기열 시스템 구현에 필수 |

### Frontend
| 기술 | 선택 이유 |
|------|-----------|
| **React** | 컴포넌트 기반 아키텍처, 상태 관리 용이 |
| **TypeScript** | 타입 안정성, 개발 생산성 향상, 런타임 에러 방지 |
| **Vite** | 빠른 개발 서버, HMR, 빌드 최적화 |
| **Styled Components** | CSS-in-JS, 동적 스타일링, 컴포넌트별 스타일 캡슐화 |

### 동시성 제어
| 기술 | 선택 이유 |
|------|-----------|
| **Redis 분산 락** | 다중 서버 환경에서 좌석 잠금 보장, TTL 기반 자동 해제 |
| **낙관적 락** | 버전 기반 충돌 감지, 성능 향상, 사용자 경험 개선 |
| **대기열 시스템** | 우선순위 기반 예매, 공정한 예매 순서 보장 |
| **Server-Sent Events** | 실시간 좌석 상태 동기화, 폴링 대비 효율적 |

---

## ✅ 구현한 요구사항 체크리스트

### 최소 요구사항

1. **좌석 현황 표시**
   - [x] 3x3 격자 형태로 총 9개의 좌석 표시
   - [x] 각 좌석의 예약 가능/불가능 상태를 시각적으로 구분

2. **좌석 예약 기능**
   - [x] 사용자가 빈 좌석을 클릭하여 선택
   - [x] 페이지를 이동하여 예약자 정보 입력
   - [x] 정보 입력 완료 후 예약 확정 시도
     - [x] 99% 확률로 예약 성공 처리
     - [x] 1% 확률로 의도적 실패 처리
   - [x] 예약 성공/실패에 대한 명확한 피드백 제공

3. **API 엔드포인트**
   - [x] 좌석 목록 조회 API
   - [x] 좌석 예약 요청 API
   - [x] HTTP 통신을 통한 데이터 교환

4. **코드 품질 보장**
   - [ ] 테스트 코드
   - [x] 타입 체크
   - [x] 린팅

---

### 기본 요구사항

1. **사용자 경험 개선**
   - ○ 목표: 사용자가 서비스를 이용할 때 발생할 수 있는 불편함 최소화
   - ○ 예시
     - [x] 직관적인 UI
     - [x] 네트워크 지연이 발생했을 때 편의성
     - [x] 예약이 실패했을 때 편의성
     - [x] 모바일에서 접속했을 때 편의성

2. **안정적인 서비스 운영**
   - ○ 목표: 예상치 못한 상황에서도 서비스가 안정적으로 동작
   - ○ 예시
     - [x] 잘못된 요청이 들어왔을 때
     - [x] 존재하지 않는 좌석을 예약하려 할 때
     - [x] 서버 에러가 발생했을 때
     - [x] 데이터 정합성 보장

---

### 심화 요구사항

1. **동시성 제어**
   - ○ 상황: 여러 사용자가 동시에 같은 좌석을 예약하려고 시도하는 경우
   - ○ 목표: 한 좌석에 대해 단 한 명만 예약에 성공하도록 보장
   - [x] 구현 완료

2. **실시간 좌석 상태 동기화**
   - ○ 상황: UI에서 사용자들이 이미 선택된 좌석을 선택하게 되는 경우
   - ○ 목표: 실시간 좌석 예약 상태를 확인할 수 있도록 실시간 동기화 제공
   - [x] 구현 완료

3. **선택한 좌석에 대한 우선순위 제공**
   - ○ 상황: 좌석 선택 후 예약자 정보를 입력하는 동안 다른 사용자가 좌석을 예약하게 되는 경우
   - ○ 목표: 동일 좌석에 대해 먼저 선택을 한 사용자에게 예약 우선순위 제공
   - [ ] 구현 완료

---

## 🔍 각 요구사항별 해결 방법 설명

### 1. 3x3 격자 좌석 시스템
**문제**: 9개 좌석을 직관적으로 배치하고 관리
**해결 방법**: React 컴포넌트로 3x3 CSS Grid 레이아웃 구현, 순차적 번호 (1-9) 표시
**결과**: 직관적인 3x3 격자, 순차적 번호 시스템

### 2. 좌석 상태 시각화
**문제**: 좌석 상태를 명확하게 구분하여 표시
**해결 방법**: Styled Components로 상태별 색상 구분 (회색: 가능, 초록색: 선택, 빨간색: 예매됨)
**결과**: 직관적인 색상 기반 상태 표시

### 3. 동시성 제어 시스템
**문제**: 여러 사용자가 동시에 같은 좌석을 예매하려 할 때 충돌 방지
**해결 방법**: Redis 분산 락 + 낙관적 락 (버전 기반) + 대기열 시스템
**결과**: 안전한 동시 예매 처리, 중복 예매 방지

### 4. 실시간 좌석 상태 동기화
**문제**: 사용자가 이미 예매된 좌석을 선택하는 문제
**해결 방법**: Server-Sent Events (SSE)로 실시간 좌석 상태 업데이트
**결과**: 실시간 좌석 상태 동기화, 자동 선택 해제

### 5. 반응형 디자인
**문제**: 모바일과 웹에서 UI가 깨지는 문제
**해결 방법**: CSS Media Queries와 Flexbox/Grid를 활용한 반응형 레이아웃
**결과**: 모든 디바이스에서 최적화된 UI 제공

---

## 🎯 주요 기능

### 좌석 예매 시스템
- **3x3 격자 좌석 배치**: 직관적인 좌석 선택
- **실시간 상태 표시**: 예매 가능/선택됨/예매됨 상태 구분
- **99% 성공률**: 의도적 실패 시뮬레이션 포함

### 동시성 제어
- **Redis 분산 락**: 좌석 잠금 시스템
- **낙관적 락**: 버전 기반 충돌 감지
- **대기열 시스템**: 우선순위 기반 예매

### 실시간 동기화
- **SSE 연결**: 실시간 좌석 상태 업데이트
- **자동 선택 해제**: 예매된 좌석 자동 해제

---


