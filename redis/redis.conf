# 기본 Redis 설정 (필요 시 조정)
# 참고: requirepass 는 docker-compose command 로 주입 (환경변수 사용 위해)

bind 0.0.0.0
protected-mode yes
port 6379

daemonize no
supervised no

# RDB 스냅샷 (기본값 유지 또는 조정)
save 900 1
save 300 10
save 60 10000
stop-writes-on-bgsave-error yes
rdbcompression yes
rdbchecksum yes

dbfilename dump.rdb
dir /data

# AOF (지속성 강화)
appendonly yes
appendfilename "appendonly.aof"
appendfsync everysec
no-appendfsync-on-rewrite no
auto-aof-rewrite-percentage 100
auto-aof-rewrite-min-size 64mb

# 메모리 정책 (필요 시 주석 해제)
# maxmemory 256mb
# maxmemory-policy allkeys-lru

# 로그
loglevel notice
# logfile ""

# 기타 튜닝 예시 (필요 시)
# timeout 0
# tcp-keepalive 300

